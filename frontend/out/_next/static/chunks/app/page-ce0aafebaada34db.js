(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9540:function(e,s,t){Promise.resolve().then(t.bind(t,4990)),Promise.resolve().then(t.t.bind(t,5878,23))},4990:function(e,s,t){"use strict";t.d(s,{default:function(){return f}});var n=t(7437),l=t(6407),a=t(2265);let r=e=>!!e&&"object"==typeof e&&0!==Object.keys(e).length,i=(e,s)=>(s&&e.forEach((e,t)=>{let n=s[t];r(n)&&(e.data=n)}),e);function o(e){return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("form",{onSubmit:e.handleSubmit,className:"flex items-start justify-between w-full max-w-5xl p-4 bg-white rounded-xl shadow-xl gap-4",children:[(0,n.jsx)("input",{autoFocus:!0,name:"message",placeholder:"Type a message",className:"w-full p-4 rounded-xl shadow-inner flex-1",value:e.input,onChange:e.handleInputChange}),(0,n.jsx)("button",{disabled:e.isLoading,type:"submit",className:"p-4 text-white rounded-xl shadow-xl bg-gradient-to-r from-cyan-500 to-sky-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Send"})]})})}var d=t(3145);function c(e){return"user"===e.role?(0,n.jsx)("div",{className:"flex h-8 w-8 shrink-0 select-none items-center justify-center rounded-md border shadow bg-background",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",fill:"currentColor",className:"h-4 w-4",children:(0,n.jsx)("path",{d:"M230.92 212c-15.23-26.33-38.7-45.21-66.09-54.16a72 72 0 1 0-73.66 0c-27.39 8.94-50.86 27.82-66.09 54.16a8 8 0 1 0 13.85 8c18.84-32.56 52.14-52 89.07-52s70.23 19.44 89.07 52a8 8 0 1 0 13.85-8ZM72 96a56 56 0 1 1 56 56 56.06 56.06 0 0 1-56-56Z"})})}):(0,n.jsx)("div",{className:"flex h-8 w-8 shrink-0 select-none items-center justify-center bg-white text-white",children:(0,n.jsx)(d.default,{className:"rounded-md",src:"/logo.png",alt:"UNITA Logo",width:24,height:24,priority:!0})})}function u(e){return(0,n.jsxs)("div",{className:"flex items-start gap-4 pt-5",children:[(0,n.jsx)(c,{...e}),(0,n.jsx)("p",{className:"break-words",children:e.content})]})}function h(e){let{messages:s,isLoading:t,reload:l,stop:r}=e,i=(0,a.useRef)(null),o=()=>{i.current&&(i.current.scrollTop=i.current.scrollHeight)};return(0,a.useEffect)(()=>{o()},[s.length]),(0,n.jsx)("div",{className:"w-full max-w-5xl p-4 bg-white rounded-xl shadow-xl",children:(0,n.jsx)("div",{className:"flex flex-col gap-5 divide-y h-[50vh] overflow-auto",ref:i,children:s.map(e=>(0,n.jsx)(u,{...e},e.id))})})}var x=t(5566);function f(){let{messages:e,input:s,isLoading:t,handleSubmit:r,handleInputChange:d,reload:c,stop:u,data:f}=(0,l.RJ)({api:"http://localhost:8000/api/chat",headers:{"Content-Type":"application/json"}}),m=(0,a.useMemo)(()=>i(e,f),[e,f]);return(0,n.jsxs)("div",{className:"space-y-4 max-w-5xl w-full",children:[(0,n.jsx)(h,{messages:m,isLoading:t,reload:c,stop:u}),(0,n.jsx)(o,{input:s,handleSubmit:r,handleInputChange:d,isLoading:t,multiModal:"gpt-4-vision-preview"===x.env.NEXT_PUBLIC_MODEL})]})}}},function(e){e.O(0,[285,971,117,744],function(){return e(e.s=9540)}),_N_E=e.O()}]);